<div *ngIf="name" class="row">
    <h2><fa-icon [icon]="['fab', 'github']"></fa-icon>&nbsp;{{name}}</h2>
    <span title="{{roleDescription}}"><fa-icon [icon]="['fas', 'user-check']"></fa-icon>&nbsp;{{role}}</span>
    <hr />
    <p>
        Look, there is no reason for us to track any additional information about you. Get creative on your GitHub profile instead!
    </p>
    <p>
        We do need to track who did what and when, only so we can collaboratively improve the project's website and ensure only authorized users can make changes.
        All changes are therefore logged, and this page will therefore display and link to each operation submitted or reviewed under your name.
    </p>
</div>
<div class="row">
    <div class="text-center">
        <img class="ducky my-2 w-10 hover-enlarge" alt="Rubberduck logo" src="../../assets/vector-ducky-dark.svg" />
    </div>
</div>
<div class="row">
    <h3>Recorded activities</h3>
    <p>
        Everything you did that ever left a trace somewhere on this site is listed here.
    </p>

    <div class="col-12 row my-2 mb-4">
        <div class="col-sm-12 col-6 m-1 col-lg-2">
            <div class="card text-center card-highlight" title="The total number of edits (including additions) you have submitted so far">
                <div class="card-header">
                    <h4>Total Edits</h4>
                </div>
                <div class="card-body">
                    <span style="font-size:xx-large">{{totalEdits}}</span>
                    <p>submitted</p>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-6 m-1 col-lg-2">
            <div class="card text-center card-highlight" title="The total number of edits (including additions) that have been approved so far">
                <div class="card-header">
                    <h4>Approved Edits</h4>
                </div>
                <div class="card-body">
                    <span style="font-size:xx-large">{{totalApprovedEdits}}</span>
                    <p *ngIf="totalEdits > 0">{{totalApprovedEdits/totalEdits | percent}}&nbsp;approved</p>
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-6 m-1 col-lg-2">
            <div class="card text-center card-highlight" title="The total number of edits (including additions) currently pending review">
                <div class="card-header">
                    <h4>Pending Edits</h4>
                </div>
                <div class="card-body">
                    <span style="font-size:xx-large">{{totalPendingEdits}}</span>
                    <p>pending review</p>
                </div>
            </div>
        </div>
        <div *ngIf="canReview" class="col-sm-12 col-6 m-1 col-lg-3">
            <div class="card text-center card-highlight" title="The number of approved or rejected audit records under your name">
                <div class="card-header">
                    <h4>Reviews</h4>
                </div>
                <div class="card-body">
                    <span style="font-size:xx-large">{{totalApprovedReviews}}</span>&nbsp;approved
                    <span style="font-size:xx-large; opacity: 50%">&nbsp;|&nbsp;</span>
                    <span style="font-size:xx-large">{{totalRejectedReviews}}</span>&nbsp;rejected
                    <p *ngIf="totalReviews > 0">{{totalApprovedReviews/totalReviews | percent}}&nbsp;reviews approved</p>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="card">
            <div class="card-body">
                <table class="table table-striped table-hover overflow-x-scroll">
                    <thead>
                        <tr>
                            <th>Activity</th>
                            <th>Description</th>
                            <th>Author</th>
                            <th>Timestamp</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngIf="activities.length == 0">
                            <td colspan="5">Nothing to see here, yet.</td>
                        </tr>
                        <tr *ngFor="let activity of activities">
                            <td><a role="button" class="btn btn-link text-decoration-none" [class]="getActivityClass(activity.activity)" href="{{activity.linkUrl}}"><fa-icon [icon]="getActivityIcon(activity.activity)"></fa-icon>&nbsp;<span class="text-decoration-underline">{{activity.activity}}</span></a></td>
                            <td>{{activity.description}}</td>
                            <td>{{activity.author}}</td>
                            <td>{{activity.activityTimestamp}}</td>
                            <td>
                                <div *ngIf="activity.activity.startsWith('Submit')">
                                    <span *ngIf="activity.status == 'Pending'"><fa-icon [icon]="['fas', 'hourglass-half']"></fa-icon>&nbsp;Pending</span>
                                    <span *ngIf="activity.status == 'Approved'" [title]="'reviewed by ' + activity.reviewedBy"><fa-icon [icon]="['fas', 'user-check']"></fa-icon>&nbsp;Approved</span>
                                    <span *ngIf="activity.status == 'Rejected'" [title]="'reviewed by ' + activity.reviewedBy"><fa-icon [icon]="['fas', 'user-xmark']"></fa-icon>&nbsp;Rejected</span>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
